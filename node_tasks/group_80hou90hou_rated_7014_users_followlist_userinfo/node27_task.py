import sys
import os
o_path = os.getcwd() # 返回当前工作目录
sys.path.append(o_path) # 添加自己指定的搜索路径

from page_get.user import get_fans_or_followers_ids
from tasks.user import crawl_person_infos
from logger import crawler


# uids = [2205849860,1736256211,1901266057,2141737762,2188206412,2125234715,1773964467,1589541143,2077194227,2611579583,1928740271,1702299047,1929043947,1801951685,2586989904,2088687965,1257956987,2553672483,2182136862,2453957660,2324086254,1747233160,1913061933,1826878692,5980378261,2638879124,2012580725,2089322993,2593200272,1750255572,1952671397,2359638234,2346319804,2168461285,2329533264,2388047172,2130971393,2914102452,2206987734,1440442754,1760359140,2152968975,1865208292,2344129971,2819612462,2132443703,1958981404,2326558770,2031885647,2659368857,2270440243,2325268114,1374056875,1930531441,2253383532,1714469813,1905328623,1647430591,1879107427,1744820453,3179860271,1735843044,1698235791,3221257422,1787451751,2378615775,1768083834,1743859362,2503265912,1732405014,2179462114,1963046523,1440471315,1837421182,1725802410,1824837420,2305162417,2083782661,1987081220,1820717783,1869967932,2710832131,1908712671,1950964291,1792853651,1738446442,2429328385,2027355447,1773521833,1222938452,2239389272,1954716011,1778204987,1920283923,2629673777,2038269634,2391660902,2710108393,1913106712,1778212890,2485918711,1738264711,2664896561,2027887883,1747783050,2043406941,2356230800,1215906755,2285841532,1745018590,1751464041,1941815207,1996490783,1761162082,2297689230,1728076792,2133239082,2856040584,3220225570,2135362692,1734372872,2364623764,2638578715,1870125302,1507785131,1714854394,1773130244,2482561981,1537969392,1439410372,1776551502,1440481561,2663779644,2252021632,1778374063,1778279492,2558224061,1777548302,1778171740,2309798877,2356008171,1750708553,2307472183,2748771551,1463975722,1772598360,1879991674,1753085204,2314485724,1748044752,2269006995,2781146771,1588433625,2137666327,1895922244,1822629970,1240188491,3481926700,1730974681,1787207585,2093760985,2126062911,1835941657,1414947082,1684129280,2367550327,1973560633,1969362305,1979758100,2366321757,2087901107,2774686383,2338634303,1973662057,1896083625,1769070073,1627142953,2198252015,2344266162,2797580937,2379406427,2608798203,1896634257,2352955847,2113142303,2396134287,1768569293,1915256330,2427686341,1778286651,2114370505,2179445397,1568887062,1893398527,2591746835,1955720561,2278953713,1146578901,2521279257,1248375307,2136536707,1786995625,2305269231,2152879263,1253145825,2283606007,2313223353,1870377843,2172752451,2097439353,1771109097,2328662734,2134229537,2712029681,1916711747,1668807963,1902290811,2398998055,1959646835,2342848211,2397902033,2459975611,1835059041,2188428664,2418782231,2788521930,2084719247,1977633935,2167492165,2299675981,2109113992,1782597925,1790414815,2091189273,]
uids = [1440481561,2663779644,2252021632,1778374063,1778279492,2558224061,1777548302,1778171740,2309798877,2356008171,1750708553,2307472183,2748771551,1463975722,1772598360,1879991674,1753085204,2314485724,1748044752,2269006995,2781146771,1588433625,2137666327,1895922244,1822629970,1240188491,3481926700,1730974681,1787207585,2093760985,2126062911,1835941657,1414947082,1684129280,2367550327,1973560633,1969362305,1979758100,2366321757,2087901107,2774686383,2338634303,1973662057,1896083625,1769070073,1627142953,2198252015,2344266162,2797580937,2379406427,2608798203,1896634257,2352955847,2113142303,2396134287,1768569293,1915256330,2427686341,1778286651,2114370505,2179445397,1568887062,1893398527,2591746835,1955720561,2278953713,1146578901,2521279257,1248375307,2136536707,1786995625,2305269231,2152879263,1253145825,2283606007,2313223353,1870377843,2172752451,2097439353,1771109097,2328662734,2134229537,2712029681,1916711747,1668807963,1902290811,2398998055,1959646835,2342848211,2397902033,2459975611,1835059041,2188428664,2418782231,2788521930,2084719247,1977633935,2167492165,2299675981,2109113992,1782597925,1790414815,2091189273,]

# 爬取关注列表
count = 0
for uid in uids:
    result = get_fans_or_followers_ids(uid,2,1)
    for user_id in result:
        crawl_person_infos(user_id)
    count += 1
    crawler.info("count:" + str(count))
