import sys
import os
o_path = os.getcwd() # 返回当前工作目录
sys.path.append(o_path) # 添加自己指定的搜索路径

from page_get.user import get_fans_or_followers_ids
from tasks.user import crawl_person_infos
from logger import crawler


# uids = [2981350081,1881588085,2452634821,2751105651,2322796847,1822691011,2424762207,2510976163,2589583834,2605215304,2803530085,1832164651,1757561337,1825716555,1888092125,1812098555,1440461435,1677837450,2638500803,1907277871,2004835407,1836530515,1276072103,1969576661,1961712143,2092241293,1612847932,1806007737,1507733015,1684145045,2451061941,2903680207,1695461721,2029648711,1803963525,2101298520,1947958461,3977672319,1793956297,1785358041,1975476977,2295740473,1722993460,1672070982,2631740285,2197012453,1748692775,1300956244,1989274975,2099158282,2403771482,2331712805,1802141671,2545869574,1896797777,1945975927,2688476204,2042301973,2902710840,1997314407,2856521965,2529903215,2851124755,2269783865,1590419253,1717290985,1772543277,2710439964,1792089337,2772216373,2297509740,1792807334,1726300112,1787416525,1886879521,1616790712,1735458811,1699699135,1704638851,2298081153,1627227825,1969027225,2268162361,1830360851,1841708975,2302987903,1993569270,1751213957,3972171484,2681431182,1780035907,2680261083,2904647425,1921218632,1889039387,2258953403,2188925664,2334903201,2049838691,2213538393,2295583247,1785450603,1146994142,1439578045,2548567133,3018429945,1902906957,2323564753,2522488271,2048462953,1835684627,2372826845,2020575021,1977928831,2170435832,1870690905,2622564503,1725398074,1666930191,2237085901,1824696262,2162670827,1559528962,1392775323,1437551847,1440708743,1825861225,1766091241,1625232030,2051029462,2814846533,2175054775,1586203964,1326594733,1317580705,2936408761,2472127830,1440458555,2350954877,1941514512,1770860053,1776580632,2387330730,1674661351,1897242085,1093558461,1281768017,2135443911,2127331373,1248961381,1948801527,2010746605,1911705861,5576721202,1887778584,1439597003,1800012890,2648481484,2825514717,2361769451,1806756333,1956099825,1789915595,1113982047,2234648813,1099454532,1860595484,1909982567,1722980763,1996233925,3040945511,3602725057,2307012960,2390455632,1943328345,2279255685,2356281297,2859328010,1733027657,1994397212,1440481392,2260697333,2485716347,1772438401,2189495717,2521316005,1440415284,3137169615,1944198441,1724974882,2299511575,1576825631,2397730795,2072214877,2378822941,2332646982,1845670340,1775822835,2617582655,1925553151,1786836567,1771920645,1993093657,3196730541,2317192645,2301547791,1437558791,1080068667,2214902645,3259816674,1839500753,1903019073,1951526203,1911000781,1921508964,2987140951,1868089897,2291618217,1217377695,1965645521,1778071884,1937298167,1079976653,1355590200,1812591217,1440489422,1778475897,1523361120,1967980047,1736998940,2671703793,1952437751,2316431045,2375113295,]
uids = [1945975927,2688476204,2042301973,2902710840,1997314407,2856521965,2529903215,2851124755,2269783865,1590419253,1717290985,1772543277,2710439964,1792089337,2772216373,2297509740,1792807334,1726300112,1787416525,1886879521,1616790712,1735458811,1699699135,1704638851,2298081153,1627227825,1969027225,2268162361,1830360851,1841708975,2302987903,1993569270,1751213957,3972171484,2681431182,1780035907,2680261083,2904647425,1921218632,1889039387,2258953403,2188925664,2334903201,2049838691,2213538393,2295583247,1785450603,1146994142,1439578045,2548567133,3018429945,1902906957,2323564753,2522488271,2048462953,1835684627,2372826845,2020575021,1977928831,2170435832,1870690905,2622564503,1725398074,1666930191,2237085901,1824696262,2162670827,1559528962,1392775323,1437551847,1440708743,1825861225,1766091241,1625232030,2051029462,2814846533,2175054775,1586203964,1326594733,1317580705,2936408761,2472127830,1440458555,2350954877,1941514512,1770860053,1776580632,2387330730,1674661351,1897242085,1093558461,1281768017,2135443911,2127331373,1248961381,1948801527,2010746605,1911705861,5576721202,1887778584,1439597003,1800012890,2648481484,2825514717,2361769451,1806756333,1956099825,1789915595,1113982047,2234648813,1099454532,1860595484,1909982567,1722980763,1996233925,3040945511,3602725057,2307012960,2390455632,1943328345,2279255685,2356281297,2859328010,1733027657,1994397212,1440481392,2260697333,2485716347,1772438401,2189495717,2521316005,1440415284,3137169615,1944198441,1724974882,2299511575,1576825631,2397730795,2072214877,2378822941,2332646982,1845670340,1775822835,2617582655,1925553151,1786836567,1771920645,1993093657,3196730541,2317192645,2301547791,1437558791,1080068667,2214902645,3259816674,1839500753,1903019073,1951526203,1911000781,1921508964,2987140951,1868089897,2291618217,1217377695,1965645521,1778071884,1937298167,1079976653,1355590200,1812591217,1440489422,1778475897,1523361120,1967980047,1736998940,2671703793,1952437751,2316431045,2375113295,]

# 爬取关注列表
count = 0
for uid in uids:
    result = get_fans_or_followers_ids(uid,2,1)
    for user_id in result:
        crawl_person_infos(user_id)
    count += 1
    crawler.info("count:" + str(count))
